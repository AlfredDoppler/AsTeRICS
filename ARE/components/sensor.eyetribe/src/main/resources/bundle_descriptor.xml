<?xml version="1.0"?>
<componentTypes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:noNamespaceSchemaLocation="bundle_model.xsd">

    <componentType id="asterics.EyeTribe"
                   canonical_name="eu.asterics.component.sensor.eyetribe.EyeTribeInstance">
        <type subtype="Computer Vision">sensor</type>
        <singleton>true</singleton>
        <description>interfaces to the EyeTribe Gaze tracking system</description>
        <ports>

			<outputPort id="gazeX">
				<description>eye gaze x-coordinate</description>
				<dataType>integer</dataType>
			</outputPort>
			<outputPort id="gazeY">
				<description>eye gaze y-coordinate</description>
				<dataType>integer</dataType>
			</outputPort>
			<outputPort id="posX">
				<description>eye x-coordinate</description>
				<dataType>integer</dataType>
			</outputPort>
			<outputPort id="posY">
				<description>eye y-coordinate</description>
				<dataType>integer</dataType>
			</outputPort>
			<outputPort id="fixationTime">
				<description>time user fixates a spot</description>
				<dataType>integer</dataType>
			</outputPort>
			<outputPort id="closeTime">
				<description>time user closes eyes</description>
				<dataType>integer</dataType>
			</outputPort>

        </ports>
		<events>
			<eventListenerPort id="startCalibration">
				<description>to start the calibration process</description>
			</eventListenerPort>
			<eventListenerPort id="offsetCorrection">
				<description>to apply an offset correction to the current gazepoint</description>
			</eventListenerPort>

			<eventTriggererPort id="blink">
				<description>triggered when eye blink occurs</description>
			</eventTriggererPort>
			<eventTriggererPort id="longblink">
				<description>triggered when long eye blink occurs</description>
			</eventTriggererPort>
			<eventTriggererPort id="fixation">
				<description>triggered when user fixates spot on screen for a particular time</description>
			</eventTriggererPort>
			<eventTriggererPort id="fixationEnd">
				<description>triggered when user stops a fixation</description>
			</eventTriggererPort>
		</events>			
        <properties>
			<property name="minBlinkTime"
				type="integer"
				value="50"
				description="minimum eye close time (in milliseconds) for triggering an eye blink event"/>
			<property name="maxBlinkTime"
				type="integer"
				value="200"
				description="maximum time (in milliseconds) for triggering an eye blink event, longer eye close times will result in a longblink event "/>
			<property name="fixationTime"
				type="integer"
				value="700"
				description="time for triggering a fixation event (in milliseconds)"/>
			<property name="offsetCorrectionRadius"
				type="integer"
				value="150"
				description="radius (in pixels) in which offset correction spots are active"/>
        </properties>

    </componentType>
</componentTypes>